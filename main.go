package main

import (
	"fmt"

	"github.com/MikeB1124/escpos/printer"
)

func main() {
	//Intialize Printer
	printer := &printer.PrinterConfig{}
	printer.InitPrinter("192.168.86.29", "9100")

	escposCmd := []byte{0x1B, 0x40, // Initialize printer
		0x1B, 0x21, 0x20,
		0x1B, 0x61, 0x2,
		0x48, 0x65, 0x6C, 0x6C, 0x6F, 0x2C, 0x20, 0x45, 0x53, 0x43, 0x2F, 0x50, 0x4F, 0x53, 0x21,
		0x0A,
		0x0A,
		0x0A,
		0x0A,
		0x1B, 0x21, 0x0,
		0x1B, 0x61, 0x1,
		0x48, 0x65, 0x6C, 0x6C, 0x6F, 0x2C, 0x20, 0x45, 0x53, 0x43, 0x2F, 0x50, 0x4F, 0x53, 0x21,
		0x0A,
		0x0A,
		0x0A,
		0x0A,
		0x1B, 0x64, 0x3,
		0x1B, 0x6D,
	}
	err := printer.WriteToPrinter(escposCmd)
	if err != nil {
		fmt.Printf("Error sending data to printer: %+v\n", err)
		return
	}
	fmt.Println("Printed successfully!")
}
